<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Unidad 2 - Proyectos</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    .projects-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
    .project-card { border: 1px solid #ccc; padding: 15px; border-radius: 8px; }
    .btn { background: #007bff; color: white; border: none; padding: 10px; border-radius: 5px; cursor: pointer; }
    .btn:hover { background: #0056b3; }
    .modal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); }
    .modal-content { background:white; margin:10% auto; padding:20px; border-radius:10px; width:400px; }
  </style>
</head>
<body>
  <h2>ðŸ“˜ Unidad 2 - Mis Proyectos</h2>

  <button class="btn" onclick="openModal()">âž• AÃ±adir Proyecto</button>

  <div id="projectsGrid" class="projects-grid"></div>
  <div id="noProjects"><p>Â¡AÃ±ade tu primer proyecto en la Unidad 2!</p></div>

  <!-- Modal -->
  <div id="projectModal" class="modal">
    <div class="modal-content">
      <button onclick="closeModal()">âœ–</button>
      <h3>AÃ±adir Proyecto</h3>
      <form id="projectForm" onsubmit="saveProject(event)">
        <input type="text" name="title" placeholder="TÃ­tulo" required><br><br>
        <textarea name="description" placeholder="DescripciÃ³n" required></textarea><br><br>
        <input type="text" name="technologies" placeholder="TecnologÃ­as"><br><br>
        <select name="status">
          <option value="completado">âœ… Completado</option>
          <option value="en-progreso">ðŸ”„ En Progreso</option>
        </select><br><br>
        <button type="submit" class="btn">Guardar</button>
      </form>
    </div>
  </div>

  <script>
    let projects = JSON.parse(localStorage.getItem('unidad2Projects')) || [];
    let editIndex = null;

    function displayProjects() {
      const grid = document.getElementById('projectsGrid');
      const noProjects = document.getElementById('noProjects');
      if (projects.length === 0) {
        grid.innerHTML = "";
        noProjects.style.display = "block";
        return;
      }
      noProjects.style.display = "none";
      grid.innerHTML = projects.map((p,i)=>`
        <div class="project-card">
          <h4>${p.title}</h4>
          <p>${p.description}</p>
          <p><b>TecnologÃ­as:</b> ${p.technologies}</p>
          <p><b>Estado:</b> ${p.status}</p>
          <button onclick="deleteProject(${i})">Eliminar</button>
        </div>
      `).join("");
    }

    function openModal() {
      document.getElementById('projectModal').style.display = 'block';
    }
    function closeModal() {
      document.getElementById('projectModal').style.display = 'none';
    }
    function saveProject(e) {
      e.preventDefault();
      const f = e.target;
      const project = {
        title: f.title.value,
        description: f.description.value,
        technologies: f.technologies.value,
        status: f.status.value
      };
      projects.push(project);
      localStorage.setItem('unidad2Projects', JSON.stringify(projects));
      closeModal();
      displayProjects();
    }
    function deleteProject(i) {
      projects.splice(i,1);
      localStorage.setItem('unidad2Projects', JSON.stringify(projects));
      displayProjects();
    }
    window.onload = displayProjects;
  </script>
</body>
</html>
